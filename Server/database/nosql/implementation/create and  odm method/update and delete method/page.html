<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Update and Delete Method</title>
</head><body><b><span style="font-size: 20pt">Update Method</span></b><br/>
<br/>
To update a certain object in the database. the syntax to use in mongoose is Model.updateOne() or updateMany()<br/>
<br/>
<img src="image.png" /><br/>
<br/>
This accepts 3 parameters, first is the filter, in the example above, we selected the specific id of the object to be modified, second parameter is the value to be added or modify. Last but not the least is the callback function which checks if an error occurs or not. <br/>
<br/>
<span style="font-size: 20pt"><b>Delete Method<br/>
<br/>
</b></span><img src="image 2.png" /><br/>
<br/>
We use deleteOne or deleteMany in this situation where first parameter is a filter or selector, second parameter is optional querym and third is a callback function. <br/>
<b><span style="font-size: 15pt"><br/>
</span></b><b><span style="font-size: 15pt">Delete Many</span></b><br/>
<br/>
<img src="image 3.png" /><br/>
<br/>
This is the general syntax, where Person is the model, inside the first parameter is the limiter and we could also pass additional parameter inside by separating it with comma then stating a mongoDB query, <br/>
<br/>
<img src="image 4.png" /><br/>
<br/>
We could also find the Id itself and delete that item using<b>&nbsp;findByIdAndRemove()</b>&nbsp;method,<br/>
<br/>
<img src="image 5.png" /><br/>
<br/>
The problem with this is that, it won't work if the callback error is not defined. So don't forget it. <br/>
<br/>
To remove a value in an array using MongoDB, what do we do? We could use the $pull operator<br/>
<br/>
<img src="image 6.png" /><br/>
<br/>
field1 is an array and the value| condition is the thing to be removed, each part encapsulated by 3 overlaying layers of curly braces. To delete, for an instance, a collection of document where one document stores an array of object such as<br/>
<br/>
<img src="image 8.png" /><br/>
<br/>
What can we do? Instead of using deleteOne or deleteMany that deletes the whole document itself rather than a specific element inside array, we could use...<br/>
<br/>
<img src="image 7.png" /><br/>
<br/>
This syntax will find find the name of the listItems and when found, will update the array. <br/>
<br/>
<img src="image 9.png" /><br/>
<br/>
That's all.<br/>
<br/>
</body></html>